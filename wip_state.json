{
  "title": "Work in Progress",
  "sections": [
    {
      "title": "Current Direction",
      "body": [
        "- Boot simulation now stubs Manny's desk cut-scene so the Lua host logs memo retrieval and computer interactions without the original precompiled scripts.",
        "- Audio callbacks feed a recording adapter that can emit JSON logs via `--audio-log-json`, enabling future viewers to react to runtime music and SFX cues."
      ]
    },
    {
      "title": "Active Threads",
      "body": [
        "- Geometry-backed selection informs commentary and cut-scene state, but the head-control fallback still assumes Manny-specific sectors and ignores real hit tests.",
        "- Viewer integration is still pending; the recorded audio events are available on disk but not yet streamed into a live client."
      ]
    },
    {
      "title": "Next Steps",
      "body": [
        "1. Replace the Manny-focused head-control fallback with geometry-driven targeting plus regression tests.",
        "2. Plumb the recorded audio events into the viewer prototype so cue changes can drive instrumentation HUDs."
      ]
    }
  ],
  "workstreams": [
    {
      "slug": "head_control_geometry",
      "description": "Geometry-driven head targeting",
      "prompt": "Objective: replace the Manny-only head control fallback in grim_engine/src/lua_host.rs with geometry-driven targeting so look direction derives from actual sector hits. Update the logic to prefer visible sector data before falling back to canonical setups, and extend the unit tests to cover door/desk/window scenarios. Run cargo fmt and cargo test -p grim_engine. Constraints: reference only existing code/documentation; stop once the fallback and tests are committed."
    }
  ]
}
